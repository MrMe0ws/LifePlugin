# LifePlugin

Плагин для Minecraft сервера на Spigot 1.21+, который добавляет систему жизней для игроков. Игроки имеют ограниченное количество жизней, и при их исчерпании получают временный бан.

## Описание

LifePlugin реализует механику ограниченных жизней для игроков. Каждый игрок получает определенное количество жизней (по умолчанию 2). При смерти игрок теряет одну жизнь. Когда жизни заканчиваются, игрок получает временный бан. Жизни восстанавливаются со временем или могут быть подарены другими игроками.

## Возможности

- ✅ Система ограниченных жизней для каждого игрока
- ✅ Автоматический бан при исчерпании жизней
- ✅ Восстановление жизней через определенное время
- ✅ Возможность дарить жизни другим игрокам
- ✅ Команды управления жизнями
- ✅ Сохранение данных игроков
- ✅ Настройка через config.yml

## Установка

1. Соберите плагин с помощью Maven:

   ```bash
   mvn clean package
   ```

2. Скопируйте файл `target/LifePlugin-1.0.0.jar` в папку `plugins` вашего сервера

3. Перезапустите сервер

4. При первом запуске будут созданы файлы `config.yml` и `players.yml` в папке плагина

## Конфигурация

Файл `config.yml` находится в папке `plugins/LifePlugin/`:

```yaml
# Максимальное количество жизней игрока
lives: 2

# Время бана в секундах (например, 43200 секунд = 12 часов)
ban-time: 43200

# Сообщение, которое отправляется игроку при бане
death-message: "Вы умерли максимальное количество раз :("

# Время восстановления дополнительной жизни в секундах (например, 86400 секунд = 24 часа)
recovery-time: 43200
```

### Параметры:

- **lives** - Максимальное количество жизней, которое получает игрок

  - По умолчанию: `2`
  - При первом входе игрок получает это количество жизней

- **ban-time** - Время бана в секундах при исчерпании всех жизней

  - По умолчанию: `43200` (12 часов)
  - Игрок не сможет зайти на сервер в течение этого времени

- **death-message** - Сообщение, которое отправляется игроку при бане

  - По умолчанию: `"Вы умерли максимальное количество раз :("`

- **recovery-time** - Время в секундах, через которое восстанавливается одна жизнь
  - По умолчанию: `43200` (12 часов)
  - Если у игрока меньше максимального количества жизней, они будут восстанавливаться автоматически

## Команды

### `/lifeplugin life <player> <lives>`

Устанавливает количество жизней для указанного игрока.

- **Права**: `lifeplugin.setlives`
- **Пример**: `/lifeplugin life PlayerName 3`

### `/checklife`

Проверяет количество жизней у текущего игрока.

- **Права**: `lifeplugin.checklife` (по умолчанию: `true`)
- **Использование**: Только для игроков

### `/giftlife <player>`

Позволяет игроку подарить одну свою жизнь другому игроку.

- **Права**: `lifeplugin.giftlife`
- **Требования**:
  - У донора должно быть больше 1 жизни
  - У получателя должно быть меньше максимального количества жизней
- **Пример**: `/giftlife PlayerName`

### `/lifepluginreload`

Перезагружает конфигурацию плагина.

- **Права**: `lifeplugin.reload` (по умолчанию: `op`)

## Права доступа

- `lifeplugin.setlives` - Право на установку жизней игрокам (по умолчанию: `op`)
- `lifeplugin.checklife` - Право на проверку своих жизней (по умолчанию: `true`)
- `lifeplugin.giftlife` - Право на дарение жизней (по умолчанию: `op`)
- `lifeplugin.reload` - Право на перезагрузку конфигурации (по умолчанию: `op`)

## Как это работает

1. При первом входе игрок получает максимальное количество жизней (настраивается в конфиге)

2. При каждой смерти игрок теряет одну жизнь

3. Если у игрока остались жизни:

   - Игрок получает сообщение о количестве оставшихся жизней
   - Игрок может продолжать играть

4. Если жизни закончились:

   - Игрок получает бан на указанное время
   - Инвентарь игрока очищается
   - Игрок не сможет зайти на сервер до окончания бана

5. После окончания бана:

   - Игрок получает максимальное количество жизней обратно
   - Игрок может снова играть

6. Восстановление жизней:
   - Если у игрока меньше максимального количества жизней, они восстанавливаются автоматически через указанное время
   - Игроки могут дарить свои жизни другим игрокам

## Файлы данных

Плагин создает файл `players.yml` в папке `plugins/LifePlugin/`, который хранит:

- Количество жизней каждого игрока
- Время последней смерти
- Время окончания бана (если игрок забанен)

## Требования

- **Minecraft**: 1.21+
- **Сервер**: Spigot/Bukkit/Paper
- **Java**: 21+ (для компиляции)

## Сборка

```bash
mvn clean package
```

JAR-файл будет создан в папке `target/`.
